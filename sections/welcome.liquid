<section class="welcome-section">
  <div class="container">
    <!-- Header Section -->
    <div class="welcome-section__header">
      {%- if section.settings.title != blank -%}
        <h2 class="welcome-section__title">{{ section.settings.title }}</h2>
      {%- endif -%}

      {%- if section.settings.tagline != blank -%}
        <p class="welcome-section__tagline">{{ section.settings.tagline }}</p>
      {%- endif -%}

      <div class="welcome-section__chevron">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
          <polyline points="6 9 12 15 18 9"/>
        </svg>
      </div>

      <!-- MEN/WOMEN Navigation -->
      <div class="welcome-section__gender-nav">
        <a href="{{ section.settings.men_url | default: '/collections/mens' }}" class="welcome-section__gender-link{% if section.settings.active_gender == 'men' %} is-active{% endif %}">
          MEN
        </a>
        <a href="{{ section.settings.women_url | default: '/collections/womens' }}" class="welcome-section__gender-link{% if section.settings.active_gender == 'women' %} is-active{% endif %}">
          WOMEN
        </a>
      </div>
    </div>

    <!-- Jacket Categories Carousel -->
    {%- if section.blocks.size > 0 -%}
      <div class="welcome-section__carousel-wrapper">
        <div class="welcome-section__carousel-nav">
          <button type="button" class="welcome-section__carousel-btn welcome-section__carousel-btn--prev" data-carousel-prev aria-label="Previous">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
              <polyline points="15 18 9 12 15 6"/>
            </svg>
          </button>
          <button type="button" class="welcome-section__carousel-btn welcome-section__carousel-btn--next" data-carousel-next aria-label="Next">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
              <polyline points="9 18 15 12 9 6"/>
            </svg>
          </button>
        </div>

        <div class="welcome-section__carousel" data-carousel>
          <div class="welcome-section__carousel-track" data-carousel-track>
            {%- for block in section.blocks -%}
              <div class="welcome-section__category-card" {{ block.shopify_attributes }}>
                <a href="{{ block.settings.link_url | default: '#' }}" class="welcome-section__category-link">
                  {%- if block.settings.image != blank -%}
                    <div class="welcome-section__category-image">
                      <img
                        src="{{ block.settings.image | image_url: width: 600 }}"
                        srcset="
                          {{ block.settings.image | image_url: width: 400 }} 400w,
                          {{ block.settings.image | image_url: width: 600 }} 600w,
                          {{ block.settings.image | image_url: width: 800 }} 800w
                        "
                        sizes="(max-width: 600px) 100vw, 20vw"
                        alt="{{ block.settings.title | default: block.settings.image.alt }}"
                        loading="lazy"
                      >
                    </div>
                  {%- else -%}
                    <div class="welcome-section__category-image">
                      {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
                    </div>
                  {%- endif -%}
                  <div class="welcome-section__category-label">
                    {{ block.settings.title }}
                  </div>
                </a>
              </div>
            {%- endfor -%}
          </div>
        </div>
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "Welcome Section",
  "tag": "section",
  "class": "welcome-section-wrapper",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "WELCOME TO FINEYST"
    },
    {
      "type": "text",
      "id": "tagline",
      "label": "Tagline",
      "default": "Your Destination for Timeless, Custom, and Everyday Leather Jackets"
    },
    {
      "type": "select",
      "id": "active_gender",
      "label": "Active Gender",
      "options": [
        { "value": "men", "label": "Men" },
        { "value": "women", "label": "Women" }
      ],
      "default": "men"
    },
    {
      "type": "url",
      "id": "men_url",
      "label": "Men's Collection URL"
    },
    {
      "type": "url",
      "id": "women_url",
      "label": "Women's Collection URL"
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Jacket Category",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Category Name",
          "default": "LEATHER JACKETS"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Category Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Welcome Section",
      "blocks": [
        {
          "type": "category",
          "settings": {
            "title": "LEATHER JACKETS"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "PUFFER JACKETS"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "DENIM JACKETS"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "SUEDE JACKETS"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "AVIATOR JACKETS"
          }
        }
      ]
    }
  ]
}
{% endschema %}

