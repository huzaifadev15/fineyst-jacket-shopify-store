{%- style -%}
  .cart-main {
    padding: 12rem 0 8rem;
  }

  .cart-main__header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .cart-main__title {
    font-size: clamp(3rem, 5vw, 4rem);
    font-weight: 700;
    letter-spacing: 0.05em;
  }

  .cart-empty {
    text-align: center;
    padding: 6rem 0;
  }

  .cart-empty__text {
    font-size: 1.8rem;
    color: #666;
    margin-bottom: 3rem;
  }

  .cart-table {
    width: 100%;
    border-collapse: collapse;
  }

  .cart-table th {
    text-align: left;
    padding: 1.5rem;
    font-size: 1.2rem;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    border-bottom: 2px solid var(--color-primary);
  }

  .cart-table td {
    padding: 2rem 1.5rem;
    border-bottom: 1px solid #eee;
    vertical-align: middle;
  }

  .cart-item {
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  .cart-item__image {
    width: 10rem;
    height: 12rem;
    background: #f5f5f5;
    flex-shrink: 0;
  }

  .cart-item__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .cart-item__title {
    font-size: 1.6rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .cart-item__title a:hover {
    color: var(--color-secondary);
  }

  .cart-item__variant {
    font-size: 1.3rem;
    color: #666;
  }

  .cart-item__price {
    font-size: 1.6rem;
    font-weight: 600;
  }

  .cart-quantity {
    display: flex;
    align-items: center;
    border: 1px solid #ddd;
    width: fit-content;
  }

  .cart-quantity__btn {
    width: 4rem;
    height: 4rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    background: transparent;
    border: none;
    cursor: pointer;
  }

  .cart-quantity__input {
    width: 5rem;
    height: 4rem;
    text-align: center;
    border: none;
    border-left: 1px solid #ddd;
    border-right: 1px solid #ddd;
    font-size: 1.5rem;
  }

  .cart-item__total {
    font-size: 1.6rem;
    font-weight: 700;
  }

  .cart-item__remove {
    color: #999;
    font-size: 1.3rem;
    transition: color 0.3s ease;
  }

  .cart-item__remove:hover {
    color: #e63946;
  }

  .cart-footer {
    margin-top: 4rem;
    display: flex;
    justify-content: flex-end;
  }

  .cart-summary {
    width: 100%;
    max-width: 40rem;
    background: #f8f8f8;
    padding: 3rem;
  }

  .cart-summary__row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1.5rem;
    font-size: 1.5rem;
  }

  .cart-summary__row--total {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid var(--color-primary);
    font-size: 2rem;
    font-weight: 700;
  }

  .cart-summary__checkout {
    width: 100%;
    margin-top: 2rem;
    padding: 1.8rem;
  }

  .cart-summary__continue {
    display: block;
    text-align: center;
    margin-top: 1.5rem;
    font-size: 1.4rem;
    color: #666;
  }

  .cart-summary__continue:hover {
    color: var(--color-primary);
  }

  @media (max-width: 768px) {
    .cart-table thead {
      display: none;
    }

    .cart-table,
    .cart-table tbody,
    .cart-table tr,
    .cart-table td {
      display: block;
    }

    .cart-table tr {
      padding: 2rem 0;
      border-bottom: 1px solid #eee;
    }

    .cart-table td {
      padding: 1rem 0;
      border: none;
    }

    .cart-item {
      flex-direction: column;
      align-items: flex-start;
    }

    .cart-footer {
      justify-content: stretch;
    }

    .cart-summary {
      max-width: none;
    }
  }
{%- endstyle -%}

<section class="cart-main">
  <div class="container">
    <header class="cart-main__header">
      <h1 class="cart-main__title">Shopping Cart</h1>
    </header>

    {%- if cart.item_count > 0 -%}
      <form action="{{ routes.cart_url }}" method="post" data-cart-form>
        <table class="cart-table">
          <thead>
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Total</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {%- for item in cart.items -%}
              <tr data-cart-item="{{ item.key }}">
                <td>
                  <div class="cart-item">
                    <div class="cart-item__image">
                      {%- if item.image != blank -%}
                        <a href="{{ item.url }}">
                          <img src="{{ item.image | image_url: width: 200 }}" alt="{{ item.title }}">
                        </a>
                      {%- endif -%}
                    </div>
                    <div class="cart-item__info">
                      <h3 class="cart-item__title">
                        <a href="{{ item.url }}">{{ item.product.title }}</a>
                      </h3>
                      {%- unless item.variant.title == 'Default Title' -%}
                        <p class="cart-item__variant">{{ item.variant.title }}</p>
                      {%- endunless -%}
                    </div>
                  </div>
                </td>
                <td>
                  <span class="cart-item__price">{{ item.price | money }}</span>
                </td>
                <td>
                  <div class="cart-quantity">
                    <button 
                      type="button" 
                      class="cart-quantity__btn" 
                      data-quantity-minus
                      data-key="{{ item.key }}"
                    >âˆ’</button>
                    <input 
                      type="number" 
                      class="cart-quantity__input"
                      name="updates[{{ item.key }}]" 
                      value="{{ item.quantity }}" 
                      min="0"
                      data-quantity-input
                    >
                    <button 
                      type="button" 
                      class="cart-quantity__btn" 
                      data-quantity-plus
                      data-key="{{ item.key }}"
                    >+</button>
                  </div>
                </td>
                <td>
                  <span class="cart-item__total">{{ item.line_price | money }}</span>
                </td>
                <td>
                  <a href="{{ routes.cart_change_url }}?line={{ forloop.index }}&quantity=0" class="cart-item__remove">
                    Remove
                  </a>
                </td>
              </tr>
            {%- endfor -%}
          </tbody>
        </table>

        <div class="cart-footer">
          <div class="cart-summary">
            <div class="cart-summary__row">
              <span>Subtotal</span>
              <span>{{ cart.total_price | money }}</span>
            </div>
            <div class="cart-summary__row">
              <span>Shipping</span>
              <span>Calculated at checkout</span>
            </div>
            <div class="cart-summary__row cart-summary__row--total">
              <span>Total</span>
              <span>{{ cart.total_price | money }}</span>
            </div>

            <button type="submit" name="checkout" class="btn btn--primary cart-summary__checkout">
              Proceed to Checkout
            </button>

            <a href="{{ routes.all_products_collection_url }}" class="cart-summary__continue">
              Continue Shopping
            </a>
          </div>
        </div>
      </form>
    {%- else -%}
      <div class="cart-empty">
        <p class="cart-empty__text">Your cart is currently empty.</p>
        <a href="{{ routes.all_products_collection_url }}" class="btn btn--primary">
          Start Shopping
        </a>
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "Cart Page",
  "tag": "section",
  "class": "cart-section",
  "settings": []
}
{% endschema %}

